<html lang="en-US">
<head>
  <title>Pachacamac</title>
  <meta charset="utf-8">
</head>
<body onload="initialize();">
  <div>
  <img id="map" src="siteMap.svg" style="position:absolute; left: 0; top: 0; width: 500px; height: 500px; z-index: 0;"/>
  <canvas id="myCanvas" x="0" y="0" width=500 height=500 style="position: absolute; width: 500px; height: 500px; left:0; top: 0; z-index: 1; border:1px solid #000000;"></canvas>
  </div>
  <script>
var polygon = [];
function initialize()
{
  var canvas = document.getElementById("myCanvas");
  canvas.addEventListener("mousedown", onMouseDown, false);
}

function onMouseDown(event)
{
  console.log("x= "+event.pageX+" y= "+event.pageY);
  polygon.push({x:event.pageX,y:event.pageY})
  draw();
}

function draw()
{
  var canvas = document.getElementById("myCanvas");
  var ctx = canvas.getContext("2d");
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.globalAlpha = 0.5;
  ctx.fillStyle = "#FF0000"; 
  ctx.strokeStyle = "#000000"; 
  ctx.beginPath();
  ctx.moveTo(polygon[0].x, polygon[0].y);
  for (var i = 1; i < polygon.length; i++)
  {
    ctx.lineTo(polygon[i].x, polygon[i].y);
  }
  ctx.lineTo(polygon[0].x, polygon[0].y);
  ctx.fill();
  ctx.stroke();
}
  </script>
</body>
</html>

